<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.154.1">
    <meta name="generator" content="Relearn 8.2.0">
    <meta name="description" content="The following instructions apply only to 3.00.b01 (beta) version and are kept for reference purpose only. For the production version (3.0) see Installing and Running Examples page. Since Geant4 VMC 3.0.x, there are also provided examples main programs which can be built with either shared or static libraries of all packages. Building with static libraries can make execution faster, especially when running in multi-threaded mode, than when running with dynamic loading of shared libraries in a &#34;traditional&#34; way.">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Building examples application programs - With 3.00.b01 :: VMC">
    <meta name="twitter:description" content="The following instructions apply only to 3.00.b01 (beta) version and are kept for reference purpose only. For the production version (3.0) see Installing and Running Examples page. Since Geant4 VMC 3.0.x, there are also provided examples main programs which can be built with either shared or static libraries of all packages. Building with static libraries can make execution faster, especially when running in multi-threaded mode, than when running with dynamic loading of shared libraries in a &#34;traditional&#34; way.">
    <meta property="og:url" content="https://vmc-project.github.io/installation/examples/examples-old/index.html">
    <meta property="og:site_name" content="VMC">
    <meta property="og:title" content="Building examples application programs - With 3.00.b01 :: VMC">
    <meta property="og:description" content="The following instructions apply only to 3.00.b01 (beta) version and are kept for reference purpose only. For the production version (3.0) see Installing and Running Examples page. Since Geant4 VMC 3.0.x, there are also provided examples main programs which can be built with either shared or static libraries of all packages. Building with static libraries can make execution faster, especially when running in multi-threaded mode, than when running with dynamic loading of shared libraries in a &#34;traditional&#34; way.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Installation">
    <meta itemprop="name" content="Building examples application programs - With 3.00.b01 :: VMC">
    <meta itemprop="description" content="The following instructions apply only to 3.00.b01 (beta) version and are kept for reference purpose only. For the production version (3.0) see Installing and Running Examples page. Since Geant4 VMC 3.0.x, there are also provided examples main programs which can be built with either shared or static libraries of all packages. Building with static libraries can make execution faster, especially when running in multi-threaded mode, than when running with dynamic loading of shared libraries in a &#34;traditional&#34; way.">
    <meta itemprop="wordCount" content="350">
    <title>Building examples application programs - With 3.00.b01 :: VMC</title>
    <link href="/css/auto-complete/auto-complete.min.css?1770049849" rel="stylesheet">
    <script src="/js/auto-complete/auto-complete.min.js?1770049849" defer></script>
    <script src="/js/search-lunr.min.js?1770049849" defer></script>
    <script src="/js/search.min.js?1770049849" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/searchindex.en.js?1770049849";
    </script>
    <script src="/js/lunr/lunr.min.js?1770049849" defer></script>
    <script src="/js/lunr/lunr.stemmer.support.min.js?1770049849" defer></script>
    <script src="/js/lunr/lunr.multi.min.js?1770049849" defer></script>
    <script src="/js/lunr/lunr.en.min.js?1770049849" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/fonts/fontawesome/css/fontawesome-all.min.css?1770049849" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/fonts/fontawesome/css/fontawesome-all.min.css?1770049849" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar/perfect-scrollbar.min.css?1770049849" rel="stylesheet">
    <link href="/css/theme.min.css?1770049849" rel="stylesheet">
    <link href="/css/format-html.min.css?1770049849" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/installation\/examples\/examples-old\/index.html';
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='https:\/\/vmc-project.github.io';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=false;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'vmc' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
  </head>
  <body class="mobile-support html" data-url="/installation/examples/examples-old/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
<span class="btn cstyle link noborder notitle interactive"><button onclick="toggleNav()" type="button"title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button></span>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button"title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper"> 
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/index.html"><span itemprop="name">VMC Project</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/installation/index.html"><span itemprop="name">Installation</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/installation/examples/index.html"><span itemprop="name">Installing and Running Examples</span></a><meta itemprop="position" content="3">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">Building examples application programs - With 3.00.b01</span><meta itemprop="position" content="4"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><a href="/installation/examples/build-options/index.html" title="Build Options (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><a href="/installation/examples/running-examples/index.html" title="Running examples (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button"title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable installation" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="building-examples-application-programs---with-300b01">Building examples application programs - With 3.00.b01</h1>

<p>
The following instructions apply only to 3.00.b01 (beta) version and are kept for reference purpose only. For the production version (3.0) see  <a href="/drupal/content/installing-and-running-examples"> Installing and Running Examples</a> page.
<p>
Since Geant4 VMC 3.0.x, there are also provided examples main programs
which can be built with either shared or static libraries of all packages. Building with static libraries can make execution faster, especially when running in multi-threaded mode, than when running with dynamic loading of shared libraries in a "traditional" way.
</p>
<p>
The programs can be built using CMake in a standard way. The CMake configuration files, CMakeLists.txt, provided within examples are defined with use of a generic configuration files UseVMC.cmake and FindVMC.cmake,
provided in geant4_vmc/cmake directory together with other Find modules for all used packages. FindVMC.cmake is used to find all used packages which selection is made by the user via the CMake options defined in this file.
</p>
<p> Build with Geant4: <br>
<bash>
cd geant4_vmc
mkdir examples_build_g4
cd examples_build_g4
cmake \
  -DGeant4VMC_DIR=/my_path/geant4_vmc \
  -DWITH_GEANT4=ON \
  -DWITH_MTROOT=ON \
  -DWITH_VGM=ON \
  ../examples
make -jN
</bash>
</p>
<p> Build with Geant3: <br>
(<i>Note that WITH_GEANT4 option has to be set OFF explicitly, as its default is ON.</i>)<br>
<bash>
cd geant4_vmc
mkdir examples_build_g3
cd examples_build_g3
cmake \
  -DGeant4VMC_DIR=/my_path/geant4_vmc \
  -DGeant3VMC_DIR=/my_path/geant3 \
  -DWITH_GEANT4=OFF \
  -DWITH_GEANT3=ON \
  -DWITH_MTROOT=ON \
  ../examples
make -jN
</bash>
</p>
<p>
The example can be then run by calling the executable in the build directory: <br>
<bash>
cd geant4_vmc/examples/E01
../../examples_build_g4/E01/exampleE01
</bash>
</p>
<p>  
For keeping maximum simplicity of the code, a fixed configuration is defined in the examples main() function. More flexible version of the main() function is provided in the test programs which default configuration options can be changed by running the program with selected command line options, eg.
<bash>
  testE01
   [-g4g,  --g4-geometry]         Geant4 VMC geometry option
   [-g4pl, --g4-physics-list]     Geant4 physics list selection
   [-g4sp, --g4-special-physics]  Geant4 special physics selection
   [-g4m,  --g4-macro]            Geant4 macro
   [-g4vm, --g4-vis-macro]        Geant4 visualization macro
   [-g3g,  --g3-geometry]         Geant3 geometry option    
                                  (TGeant3,TGeant3TGeo)
   [-r4m,  --root-macro]          Root macro
   [-v,    --verbose]             verbose option (yes,no)
</bash>
<p>
Note that the g4* and g3* options are available only when the program was built with the corresponding WITH_GEANT3 or WITH_GEANT3 option. Root macro with arguments has to be passed in a single string, eg.:
<bash>
   --root-macro 'test_E01.C("",kFALSE)'
</bash>
</p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
<a id="logo" href="https://vmc-project.github.io/">
  <img src="/images/VMClogo6_white.png" width=80% />
</a>

        </div>
        <search><form action="/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
            <li class="" data-nav-url="/index.html"><a class="padding" href="/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-url="/download/index.html"><a class="padding" href="/download/index.html">Download</a><ul id="R-subsections-89f76e1526985442faec91b4b17e0f07" class="collapsible-menu"></ul></li>
            <li class="parent " data-nav-url="/installation/index.html"><a class="padding" href="/installation/index.html">Installation</a><ul id="R-subsections-ff749ccaab053548f690f97bcd6daed0" class="collapsible-menu">
            <li class="" data-nav-url="/installation/vmc/index.html"><a class="padding" href="/installation/vmc/index.html">Installing VMC</a></li>
            <li class="alwaysopen " data-nav-url="/installation/geant4_vmc/index.html"><a class="padding" href="/installation/geant4_vmc/index.html">Installing Geant4 VMC</a><ul id="R-subsections-31441cf00b0f0fcba940af07d361bab7" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/installation/geant3/index.html"><a class="padding" href="/installation/geant3/index.html">Installing Geant3</a></li>
            <li class="parent alwaysopen " data-nav-url="/installation/examples/index.html"><a class="padding" href="/installation/examples/index.html">Installing and Running Examples</a><ul id="R-subsections-e7d6c4ce737f4a65c4f47ef2ae12efee" class="collapsible-menu">
            <li class="" data-nav-url="/installation/examples/build-options/index.html"><a class="padding" href="/installation/examples/build-options/index.html">Build Options</a></li>
            <li class="active hidden " data-nav-url="/installation/examples/examples-old/index.html"><a class="padding" href="/installation/examples/examples-old/index.html">Building examples application programs - With 3.00.b01</a></li>
            <li class="" data-nav-url="/installation/examples/running-examples/index.html"><a class="padding" href="/installation/examples/running-examples/index.html">Running examples</a></li></ul></li></ul></li>
            <li class="" data-nav-url="/user-guide/index.html"><a class="padding" href="/user-guide/index.html">User Guide</a><ul id="R-subsections-2481933c277ea702431836ec0ab63c8d" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/examples/index.html"><a class="padding" href="/examples/index.html">Examples</a><ul id="R-subsections-2e4187ca04853a7e1382c8d86f7be6fd" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/reference/index.html"><a class="padding" href="/reference/index.html">Reference</a></li>
            <li class="" data-nav-url="/publications/index.html"><a class="padding" href="/publications/index.html">Publications</a><ul id="R-subsections-e0b210545207756ebe6bf30368fa14c3" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/support/index.html"><a class="padding" href="/support/index.html">Support</a><ul id="R-subsections-caa68563dfb61577c2c4699e1aa63010" class="collapsible-menu"></ul></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <div class="nav-title padding">More</div>
          <ul class="space collapsible-menu">
            <li class="" data-nav-url="https://github.com/vmc-project"><a class="padding" href="https://github.com/vmc-project" rel="external"><i class='fab fa-github'></i> vmc-project on Github</a></li>
            <li class="" data-nav-url="/copyright"><a class="padding" href="/copyright"><i class='far fa-copyright'></i> Copyright</a></li>
            <li class="" data-nav-url="/credits"><a class="padding" href="/credits"><i class='fas fa-bullhorn'></i> Credits</a></li>
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
          </ul>
        </div>
<div id="R-footer"><p>Built from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>
</div>
      </div>
    </aside>
    <script src="/js/clipboard/clipboard.min.js?1770049849" defer></script>
    <script src="/js/perfect-scrollbar/perfect-scrollbar.min.js?1770049849" defer></script>
    <script src="/js/theme.min.js?1770049849" defer></script>
  </body>
</html>
