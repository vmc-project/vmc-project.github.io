<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.154.1">
    <meta name="generator" content="Relearn 8.2.0">
    <meta name="description" content="The Virtual Monte Carlo (VMC) allows to run different simulation Monte Carlo without changing the user code and therefore the input and output format as well as the geometry and detector response definition.
The core of the VMC is the category of classes vmc. It provides a set of interfaces which completely decouple the dependencies between the user code and the concrete Monte Carlo, two of which have the key role:">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="VMC Concept :: VMC">
    <meta name="twitter:description" content="The Virtual Monte Carlo (VMC) allows to run different simulation Monte Carlo without changing the user code and therefore the input and output format as well as the geometry and detector response definition.
The core of the VMC is the category of classes vmc. It provides a set of interfaces which completely decouple the dependencies between the user code and the concrete Monte Carlo, two of which have the key role:">
    <meta property="og:url" content="https://vmc-project.github.io/user-guide/introduction/vmc-concept/index.html">
    <meta property="og:site_name" content="VMC">
    <meta property="og:title" content="VMC Concept :: VMC">
    <meta property="og:description" content="The Virtual Monte Carlo (VMC) allows to run different simulation Monte Carlo without changing the user code and therefore the input and output format as well as the geometry and detector response definition.
The core of the VMC is the category of classes vmc. It provides a set of interfaces which completely decouple the dependencies between the user code and the concrete Monte Carlo, two of which have the key role:">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="User Guide">
    <meta itemprop="name" content="VMC Concept :: VMC">
    <meta itemprop="description" content="The Virtual Monte Carlo (VMC) allows to run different simulation Monte Carlo without changing the user code and therefore the input and output format as well as the geometry and detector response definition.
The core of the VMC is the category of classes vmc. It provides a set of interfaces which completely decouple the dependencies between the user code and the concrete Monte Carlo, two of which have the key role:">
    <meta itemprop="wordCount" content="281">
    <title>VMC Concept :: VMC</title>
    <link href="/css/auto-complete/auto-complete.min.css?1770051358" rel="stylesheet">
    <script src="/js/auto-complete/auto-complete.min.js?1770051358" defer></script>
    <script src="/js/search-lunr.min.js?1770051358" defer></script>
    <script src="/js/search.min.js?1770051358" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/searchindex.en.js?1770051358";
    </script>
    <script src="/js/lunr/lunr.min.js?1770051358" defer></script>
    <script src="/js/lunr/lunr.stemmer.support.min.js?1770051358" defer></script>
    <script src="/js/lunr/lunr.multi.min.js?1770051358" defer></script>
    <script src="/js/lunr/lunr.en.min.js?1770051358" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/fonts/fontawesome/css/fontawesome-all.min.css?1770051358" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/fonts/fontawesome/css/fontawesome-all.min.css?1770051358" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar/perfect-scrollbar.min.css?1770051358" rel="stylesheet">
    <link href="/css/theme.min.css?1770051358" rel="stylesheet">
    <link href="/css/format-html.min.css?1770051358" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/user-guide\/introduction\/vmc-concept\/index.html';
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='https:\/\/vmc-project.github.io';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=false;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'vmc' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
  </head>
  <body class="mobile-support html" data-url="/user-guide/introduction/vmc-concept/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
<span class="btn cstyle link noborder notitle interactive"><button onclick="toggleNav()" type="button"title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button></span>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button"title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#vmc-and-tgeo">VMC and TGeo</a></li>
    <li><a href="#multiple-vmcs">Multiple VMCs</a></li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/index.html"><span itemprop="name">VMC Project</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/user-guide/index.html"><span itemprop="name">User Guide</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/user-guide/introduction/index.html"><span itemprop="name">Introduction</span></a><meta itemprop="position" content="3">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">VMC Concept</span><meta itemprop="position" content="4"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><a href="/user-guide/introduction/index.html" title="Introduction (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><a href="/user-guide/introduction/vmc-project/index.html" title="VMC Project (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button"title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable user-guide" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="vmc-concept">VMC Concept</h1>

<p>The Virtual Monte Carlo (VMC) allows to run different simulation Monte Carlo without changing the user code and therefore the input and output format as well as the geometry and detector response definition.</p>
<p>The core of the VMC is the category of classes <strong>vmc</strong>. It provides a set of interfaces which completely decouple the dependencies between the user code and the concrete Monte Carlo, two of which have the key role:</p>
<ul>
<li><a href="https://vmc-project.github.io/vmc/classTVirtualMC.html" rel="external">TVirtualMC</a>: Interface to the concrete Monte Carlo program</li>
<li><a href="https://vmc-project.github.io/vmc/classTVirtualMCApplication.html" rel="external">TVirtualMCApplication</a>: Interface to the user&rsquo;s Monte Carlo application</li>
</ul>
<p>The implementation of the TVirtualMC interface is provided for two Monte Carlo transport codes, GEANT3 and <a href="http://geant4.web.cern.ch/geant4/" rel="external">Geant4</a>, with the VMC packages listed below. The implementation for the third Monte Carlo transport code, FLUKA, has been discontinued by the FLUKA team in 2010.</p>
<p>The other interfaces are implemented in the user application. The user VMC application is independent from concrete transport codes (GEANT3, Geant4, FLUKA). The transport code which will be used for simulation is selected at run time - when processing a ROOT macro where the concrete Monte Carlo is instantiated.</p>
<h2 id="vmc-and-tgeo">VMC and TGeo</h2>
<p>The VMC is fully integrated with the Root geometry package, <a href="https://root.cern/doc/master/group__Geometry__classes.html" rel="external">TGeo</a>, and users can easily define their VMC application with TGeo geometry and this way of geometry definition is recommended for new users.</p>
<p>It is also possible to define geometry via Geant3-like functions defined in the VMC interface, however this way is kept only for backward compatibility and should not be used by new VMC users.</p>
<h2 id="multiple-vmcs">Multiple VMCs</h2>
<p>Since the development version the simulation can be shared among multiple different engines deriving from <a href="https://vmc-project.github.io/vmc/classTVirtualMC.html" rel="external">TVirtualMC</a> which are handled by a singleton <a href="https://vmc-project.github.io/vmc/classTMCManager.html" rel="external">TMCManager</a> object.</p>
<p>See more detailed description in <a href="/user-guide/vmc/multiple-vmc/index.html">the dedicated section</a>.</p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
<a id="logo" href="https://vmc-project.github.io/">
  <img src="/images/VMClogo6_white.png" width=80% />
</a>

        </div>
        <search><form action="/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
            <li class="" data-nav-url="/index.html"><a class="padding" href="/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-url="/download/index.html"><a class="padding" href="/download/index.html">Download</a><ul id="R-subsections-89f76e1526985442faec91b4b17e0f07" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/installation/index.html"><a class="padding" href="/installation/index.html">Installation</a><ul id="R-subsections-ff749ccaab053548f690f97bcd6daed0" class="collapsible-menu"></ul></li>
            <li class="parent " data-nav-url="/user-guide/index.html"><a class="padding" href="/user-guide/index.html">User Guide</a><ul id="R-subsections-2481933c277ea702431836ec0ab63c8d" class="collapsible-menu">
            <li class="parent alwaysopen " data-nav-url="/user-guide/introduction/index.html"><a class="padding" href="/user-guide/introduction/index.html">Introduction</a><ul id="R-subsections-532eb40a7cfc1156985d16550c20c318" class="collapsible-menu">
            <li class="active " data-nav-url="/user-guide/introduction/vmc-concept/index.html"><a class="padding" href="/user-guide/introduction/vmc-concept/index.html">VMC Concept</a></li>
            <li class="" data-nav-url="/user-guide/introduction/vmc-project/index.html"><a class="padding" href="/user-guide/introduction/vmc-project/index.html">VMC Project</a></li></ul></li>
            <li class="alwaysopen " data-nav-url="/user-guide/vmc/index.html"><a class="padding" href="/user-guide/vmc/index.html">VMC Core</a><ul id="R-subsections-066cb094d3f438e7db65ed94824c02fc" class="collapsible-menu"></ul></li>
            <li class="alwaysopen " data-nav-url="/user-guide/geant4_vmc/index.html"><a class="padding" href="/user-guide/geant4_vmc/index.html">Geant4 VMC</a><ul id="R-subsections-f0eeb039b5c33cec668a20de8c677e7b" class="collapsible-menu"></ul></li>
            <li class="alwaysopen " data-nav-url="/user-guide/geant3&#43;vmc/index.html"><a class="padding" href="/user-guide/geant3+vmc/index.html">Geant3 &#43; VMC</a><ul id="R-subsections-16038b6e10e2124b564d6f1a2a927fab" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/user-guide/g4root/index.html"><a class="padding" href="/user-guide/g4root/index.html">G4Root</a></li></ul></li>
            <li class="" data-nav-url="/examples/index.html"><a class="padding" href="/examples/index.html">Examples</a><ul id="R-subsections-2e4187ca04853a7e1382c8d86f7be6fd" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/reference/index.html"><a class="padding" href="/reference/index.html">Reference</a></li>
            <li class="" data-nav-url="/publications/index.html"><a class="padding" href="/publications/index.html">Publications</a><ul id="R-subsections-e0b210545207756ebe6bf30368fa14c3" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/support/index.html"><a class="padding" href="/support/index.html">Support</a><ul id="R-subsections-caa68563dfb61577c2c4699e1aa63010" class="collapsible-menu"></ul></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <div class="nav-title padding">More</div>
          <ul class="space collapsible-menu">
            <li class="" data-nav-url="https://github.com/vmc-project"><a class="padding" href="https://github.com/vmc-project" rel="external"><i class='fab fa-github'></i> vmc-project on Github</a></li>
            <li class="" data-nav-url="/copyright"><a class="padding" href="/copyright"><i class='far fa-copyright'></i> Copyright</a></li>
            <li class="" data-nav-url="/credits"><a class="padding" href="/credits"><i class='fas fa-bullhorn'></i> Credits</a></li>
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
          </ul>
        </div>
<div id="R-footer"><p>Built from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>
</div>
      </div>
    </aside>
    <script src="/js/clipboard/clipboard.min.js?1770051358" defer></script>
    <script src="/js/perfect-scrollbar/perfect-scrollbar.min.js?1770051358" defer></script>
    <script src="/js/theme.min.js?1770051358" defer></script>
  </body>
</html>
