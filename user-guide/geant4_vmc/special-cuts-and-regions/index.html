<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.134.2">
    <meta name="description" content="">


    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Special Cuts and Regions :: VMC</title>

    
    <link href="/css/nucleus.css?1738946947" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1738946947" rel="stylesheet">
    <link href="/css/hybrid.css?1738946947" rel="stylesheet">
    <link href="/css/featherlight.min.css?1738946947" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1738946947" rel="stylesheet">
    <link href="/css/auto-complete.css?1738946947" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1738946947" rel="stylesheet">
    <link href="/css/theme.css?1738946947" rel="stylesheet">
    <link href="/css/tabs.css?1738946947" rel="stylesheet">
    <link href="/css/hugo-theme.css?1738946947" rel="stylesheet">
    
    <link href="/css/theme-vmc.css?1738946947" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1738946947"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/user-guide/geant4_vmc/special-cuts-and-regions/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://vmc-project.github.io/">
  <img src="/images/VMClogo6_white.png" width=80% />
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1738946947"></script>
<script type="text/javascript" src="/js/auto-complete.js?1738946947"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/vmc-project.github.io\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1738946947"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/download/" title="Download" class="dd-item
        
        
        
        ">
      <a href="/download/">
          Download
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/download/git-vmc/" title="VMC" class="dd-item ">
        <a href="/download/git-vmc/">
        VMC
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/download/git-geant4_vmc/" title="Geant4 VMC" class="dd-item ">
        <a href="/download/git-geant4_vmc/">
        Geant4 VMC
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/download/git-geant3/" title="Geant3" class="dd-item ">
        <a href="/download/git-geant3/">
        Geant3
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/download/tar-files/" title="Tar Files" class="dd-item ">
        <a href="/download/tar-files/">
        Tar Files
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/installation/" title="Installation" class="dd-item
        
        
        
        ">
      <a href="/installation/">
          Installation
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/installation/vmc/" title="Installing VMC" class="dd-item ">
        <a href="/installation/vmc/">
        VMC
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/installation/geant4_vmc/" title="Installing Geant4 VMC" class="dd-item
        
        
        
        ">
      <a href="/installation/geant4_vmc/">
          Geant4 VMC
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/installation/geant4_vmc/build-options/" title="Build Options" class="dd-item ">
        <a href="/installation/geant4_vmc/build-options/">
        Build Options
        
        </a>
    </li>
     
  
 

            
          
            
            
          
            
            
          
            
            




 
  
    
      <li data-nav-id="/installation/geant4_vmc/required-optional-packages/" title="Required and Optional Packages" class="dd-item ">
        <a href="/installation/geant4_vmc/required-optional-packages/">
        Required and Optional Packages
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/installation/geant3/" title="Installing Geant3" class="dd-item
        
        
        
        ">
      <a href="/installation/geant3/">
          Geant3
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/installation/examples/" title="Installing and Running Examples" class="dd-item
        
        
        
        ">
      <a href="/installation/examples/">
          Examples
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/installation/examples/build-options/" title="Build Options" class="dd-item ">
        <a href="/installation/examples/build-options/">
        Build Options
        
        </a>
    </li>
     
  
 

            
          
            
            
          
            
            




 
  
    
      <li data-nav-id="/installation/examples/running-examples/" title="Running examples" class="dd-item ">
        <a href="/installation/examples/running-examples/">
        Running examples
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/user-guide/" title="User Guide" class="dd-item
        parent
        
        
        ">
      <a href="/user-guide/">
          User Guide
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/user-guide/introduction/" title="Introduction" class="dd-item
        
        
        
        ">
      <a href="/user-guide/introduction/">
          Introduction
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/user-guide/introduction/vmc-concept/" title="VMC Concept" class="dd-item ">
        <a href="/user-guide/introduction/vmc-concept/">
        VMC Concept
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/user-guide/introduction/vmc-project/" title="VMC Project" class="dd-item ">
        <a href="/user-guide/introduction/vmc-project/">
        VMC Project
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/user-guide/vmc/" title="VMC Core" class="dd-item
        
        
        
        ">
      <a href="/user-guide/vmc/">
          VMC
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/user-guide/vmc/vmc-core/" title="VMC Core" class="dd-item ">
        <a href="/user-guide/vmc/vmc-core/">
        VMC Core
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/user-guide/vmc/multiple-vmc/" title="Multiple VMC Engines" class="dd-item ">
        <a href="/user-guide/vmc/multiple-vmc/">
        Multiple VMC
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/user-guide/geant4_vmc/" title="Geant4 VMC" class="dd-item
        parent
        
        
        ">
      <a href="/user-guide/geant4_vmc/">
          Geant4 VMC
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/user-guide/geant4_vmc/geometry-definition-navigation/" title="Geometry Definition &amp; Navigation" class="dd-item ">
        <a href="/user-guide/geant4_vmc/geometry-definition-navigation/">
        Geometry Definition &amp; Navigation
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/user-guide/geant4_vmc/magnetic-field/" title="Magnetic Field" class="dd-item ">
        <a href="/user-guide/geant4_vmc/magnetic-field/">
        Magnetic Field
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/user-guide/geant4_vmc/sensitive-volumes/" title="Sensitive Detectors and Volumes" class="dd-item ">
        <a href="/user-guide/geant4_vmc/sensitive-volumes/">
        Sensitive Detectors and Volumes
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/user-guide/geant4_vmc/physics-lists/" title="Physics Lists" class="dd-item ">
        <a href="/user-guide/geant4_vmc/physics-lists/">
        Physics Lists
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/user-guide/geant4_vmc/stacking-of-particles/" title="Stacking of Particles" class="dd-item ">
        <a href="/user-guide/geant4_vmc/stacking-of-particles/">
        Stacking of Particles
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/user-guide/geant4_vmc/special-cuts-and-regions/" title="Special Cuts and Regions" class="dd-item active">
        <a href="/user-guide/geant4_vmc/special-cuts-and-regions/">
        Special Cuts and Regions
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/user-guide/geant4_vmc/user-geant4-classes/" title="User Geant4 Classes" class="dd-item ">
        <a href="/user-guide/geant4_vmc/user-geant4-classes/">
        User Geant4 Classes
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/user-guide/geant4_vmc/visualization/" title="Visualization" class="dd-item ">
        <a href="/user-guide/geant4_vmc/visualization/">
        Visualization
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/user-guide/geant4_vmc/switching-user-interfaces/" title="Switching User Interfaces" class="dd-item ">
        <a href="/user-guide/geant4_vmc/switching-user-interfaces/">
        Switching User Interfaces
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/user-guide/geant4_vmc/multi-threaded-processing/" title="Multi-threaded Processing" class="dd-item ">
        <a href="/user-guide/geant4_vmc/multi-threaded-processing/">
        Multi-threaded Processing
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/user-guide/geant4_vmc/verbosity/" title="Verbosity" class="dd-item ">
        <a href="/user-guide/geant4_vmc/verbosity/">
        Verbosity
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/user-guide/geant4_vmc/vebosity-for-developers/" title="Verbosity for Developers" class="dd-item ">
        <a href="/user-guide/geant4_vmc/vebosity-for-developers/">
        Verbosity for Developers
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/user-guide/geant4_vmc/source-code-documentation/" title="Source code documentation" class="dd-item ">
        <a href="/user-guide/geant4_vmc/source-code-documentation/">
        Source code documentation
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/user-guide/geant3&#43;vmc/" title="Geant3 &#43; VMC" class="dd-item
        
        
        
        ">
      <a href="/user-guide/geant3&#43;vmc/">
          Geant3 &#43; VMC
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/user-guide/geant3&#43;vmc/geant3&#43;vmc-content/" title="Geant3 &#43; VMC Content" class="dd-item ">
        <a href="/user-guide/geant3&#43;vmc/geant3&#43;vmc-content/">
        Geant3 &#43; VMC Content
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/user-guide/g4root/" title="G4Root" class="dd-item
        
        
        
        ">
      <a href="/user-guide/g4root/">
          G4Root
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/examples/" title="Examples" class="dd-item
        
        
        
        ">
      <a href="/examples/">
          Examples
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/examples/vmc-examples/" title="VMC Examples" class="dd-item ">
        <a href="/examples/vmc-examples/">
        VMC Examples
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/examples/experiment-frameworks/" title="Experiment Frameworks" class="dd-item ">
        <a href="/examples/experiment-frameworks/">
        Experiment Frameworks
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/reference/" title="Reference" class="dd-item
        
        
        
        ">
      <a href="/reference/">
          Reference
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/publications/" title="Publications" class="dd-item
        
        
        
        ">
      <a href="/publications/">
          Publications
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/publications/publications-list/" title="Publications List" class="dd-item ">
        <a href="/publications/publications-list/">
        Publications List
        
        </a>
    </li>
     
  
 

            
          
            
            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/support/" title="Support" class="dd-item
        
        
        
        ">
      <a href="/support/">
          Support
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/support/mailing-list/" title="Mailing List" class="dd-item ">
        <a href="/support/mailing-list/">
        Mailing List
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/support/bug-reports/" title="Bug Reports" class="dd-item ">
        <a href="/support/bug-reports/">
        Bug Reports
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://github.com/vmc-project"><i class='fab fa-github'></i> vmc-project on Github</a>
              </li>
          
              <li>
                  <a class="padding" href="https://vmc-project.github.io/copyright"><i class='far fa-copyright'></i> Copyright</a>
              </li>
          
              <li>
                  <a class="padding" href="https://vmc-project.github.io/credits"><i class='fas fa-bullhorn'></i> Credits</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/'>VMC Project</a> > <a href='/user-guide/'>User Guide</a> > <a href='/user-guide/geant4_vmc/'>Geant4 VMC</a> > Special Cuts and Regions
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#vmc-cuts">VMC cuts</a></li>
        <li><a href="#geant4-cuts">Geant4 cuts</a></li>
        <li><a href="#applying-vmc-cuts-in-geant4">Applying VMC cuts in Geant4</a></li>
        <li><a href="#applying-vmc-cuts-in-geant4-via-ranges-old-method">Applying VMC cuts in Geant4 via ranges (Old method)</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Special Cuts and Regions
            </h1>
          

        


<p>The way of applying cuts is different in Geant3 and Geant4. In Geant3, the cuts are defined as a limit in energy, which is applied both as an energy threshold (a secondary particle is not produced if its energy is beyond the threshold) and a tracking cut (a particle is stopped when its energy gets below the cut).</p>
<p>Inn Geant4, there is defined a unique cut in range which is then converted to an energy threshold per particle and material. The advantage is that you keep the same spatial resolution of your energy deposit over the whole detector. It is also possible to define cuts per regions, as in big experimental setups you may want to speed up your simulation by setting a higher cut in the support structures etc. See more details at the Geant4 User Guide for Application Developers, <a href="http://geant4-userdoc.web.cern.ch/geant4-userdoc/UsersGuides/ForApplicationDeveloper/html/TrackingAndPhysics/thresholdVScut.html">section Production Threshold versus Tracking Cut</a>.</p>
<h3 id="vmc-cuts">VMC cuts</h3>
<p>The VMC provides a possibility for a user to define cuts in Geant3 way. The cuts can be defined globally or per tracking medium via the following <a href="https://vmc-project.github.io/vmc/classTVirtualMC.html">TVirtualMC</a> functions:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>gMC<span style="color:#f92672">-&gt;</span>SetCut(cutname, cutValue);
</span></span><span style="display:flex;"><span>gMC<span style="color:#f92672">-&gt;</span>Gstpar(medId, cutName, cutValue);</span></span></code></pre></div></p>
<p>The user defined VMC cuts and their interpretation in Geant4 can be viewed with the following commands:</p>
<p>To print the cut values for the given cut type (cutName) and control values for the given control type (controlName) for all tracking media:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/mcDet/printCuts  cutName
</span></span><span style="display:flex;"><span>/mcDet/printControls  controlName
</span></span></code></pre></div><p>To print global cuts and global process controls:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/mcPhysics/printGlobalCuts
</span></span><span style="display:flex;"><span>/mcPhysics/printGlobalControls
</span></span></code></pre></div><p>To print the user limits (including the VMC cuts and controls) set for the specified volume:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/mcPhysics/printVolumeLimits volName
</span></span></code></pre></div><h3 id="geant4-cuts">Geant4 cuts</h3>
<p><strong>By default, Geant4 VMC ignores the VMC cuts</strong> and applies only the global cut in range defined in the physics list. The default global cut value in Geant4 VMC is 1*mm for all particles which cut is applied for (gamma, e-, e+, proton). User can change this default value for each particle separately or set a new value for all using the commands:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/mcPhysics/rangeCutForGamma    value    
</span></span><span style="display:flex;"><span>/mcPhysics/rangeCutForElectron value
</span></span><span style="display:flex;"><span>/mcPhysics/rangeCutForPositron value
</span></span><span style="display:flex;"><span>/mcPhysics/rangeCuts value
</span></span></code></pre></div><h3 id="applying-vmc-cuts-in-geant4">Applying VMC cuts in Geant4</h3>
<p>In order to take the VMC cuts into account, the user has to <strong>activate the special cuts process</strong> by switching it on in his <code>g4Config.C</code> (see the section on <a href="/user-guide/geant4_vmc/physics-lists">Physics list selection</a>. This special cuts process applies the VMC cuts as tracking cuts using <code>G4UserLimits</code>.</p>
<p>Since Geant4 VMC version 6.5, based on Geant4 version 11.2, when the special cuts process is activated, the VMC cuts are also directly set as production cuts to <code>G4ProductionCutsTable.</code></p>
<p>First, Geant4 VMC defines regions per materials. Each region contains all volumes that have the same material. In the next step, these regions are used to create materials cuts couples in <code>G4ProductionCutsTable</code> and then, in the third step, the energy cut vector is constructed (by filling the VMC cuts in the order of already constructed materials cuts couples vector) and then set to  <code>G4ProductionCutsTable</code> using its <code>SetEnergyCutVector()</code> function.
This is performed in <a href="https://vmc-project.github.io/geant4_vmc/g4vmc_html/classTG4RegionsManager2.html">TG4RegionsManager2</a> (new in Geant4 VMC version 6.5).</p>
<p>User can select several levels of verbosity to control the process of regions definition:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/mcVerbose/regionsManager level
</span></span><span style="display:flex;"><span>  level <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>  no output
</span></span><span style="display:flex;"><span>          <span style="color:#ae81ff">1</span>  number of regions added via VMC
</span></span><span style="display:flex;"><span>          <span style="color:#ae81ff">2</span>  the list of all volumes and their associated regions
</span></span></code></pre></div><p>Since Geant4 VMC version 6.3, users can print or save the regions data in a file. The default filename, <code>regions.dat</code> can be also changes with a command:</p>
<pre tabindex="0"><code>/mcRegions/print [true|false]
/mcRegions/save [true|false]
/mcRegions/setFileName fileName
</code></pre><p>The consistency of the volume material and associated regions can be also checked with the <code>check</code> command.</p>
<pre tabindex="0"><code>/mcRegions/check [true|false]
</code></pre><p>The old method of applying cuts via ranges can be activated in <code>g4Config.C</code> using <code>TG4RunConfiguration::SetSpecialCutsOld()</code>.</p>
<h3 id="applying-vmc-cuts-in-geant4-via-ranges-old-method">Applying VMC cuts in Geant4 via ranges (Old method)</h3>
<p>With older versions, the cut energy is first converted in range and then these range production cuts are set to the region. This conversion is performed in <a href="https://vmc-project.github.io/geant4_vmc/g4vmc_html/classTG4RegionsManager.html">TG4RegionsManager</a> using the Geant4 converter classes <code>G4RToEConvForElectron</code> and <code>G4RToEConvForGamma</code> by iterating within a given range interval up to a given precision. User can change the default precision (=
the number of iterations), which is set to 5 (was 2 up the version 6.2) with the command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/mcRegions/setRangePrecision value
</span></span></code></pre></div><p>The conversion of VMC cuts to the regions follows these rules:</p>
<ul>
<li>
<p>If the VMC energy cut defined by user results in a range cut smaller than the default range cut value defined in user physics list, the VMC cut is ignored and the default range cut is used.</p>
</li>
<li>
<p>The range cut is first evaluated within the range 1e-03mm to 1m; when the range cut order is found, it is refined up to given precision (5 orders of magnitude by default) within 10 values of each order and the range value with the closest energy still smaller than the VMC cut is chosen.<!-- raw HTML omitted -->
It may happen that a value cannot be refined up to the given precision, then the best found value is returned.</p>
</li>
<li>
<p>The regions are defined only in case when the VMC cuts result in range cuts different from the range cuts in the default region; then the region includes all logical volumes with a given material.</p>
</li>
<li>
<p>As the range cuts do not match precisely to user defined energy cuts, the specialCuts process applies the energy cuts as tracking cuts when a particle with energy cut below threshold is generated.</p>
</li>
</ul>
<p>User can select several levels of verbosity to control the process of regions definition:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/mcVerbose/regionsManager level   
</span></span><span style="display:flex;"><span>  level <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>  no output
</span></span><span style="display:flex;"><span>          <span style="color:#ae81ff">1</span>  number of regions added via VMC
</span></span><span style="display:flex;"><span>          <span style="color:#ae81ff">2</span>  the list of all volumes, the cuts in energy and
</span></span><span style="display:flex;"><span>             calculated cuts in range
</span></span><span style="display:flex;"><span>          <span style="color:#ae81ff">3</span>  all evaluated energy values
</span></span></code></pre></div><p>By default, the computed range cut for e- is applied also to e+ and proton. This feature can be switched off by the UI commands:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/mcRegions/applyForPositron false
</span></span><span style="display:flex;"><span>/mcRegions/applyForProton false
</span></span></code></pre></div><p>In addition to the commands presented in previous sections, users can also load the regions data from the a file.</p>
<pre tabindex="0"><code>/mcRegions/load [true|false]
</code></pre><p>The <code>check</code> commands permorms also a check for the match between the cuts computed from ranges and the input VMC cuts. When this check is activated all cut values that differ with more than a given tolerance will be printed in the output. The default value of this tolerance (1%) can be also tuned:</p>
<pre tabindex="0"><code>/mcRegions/check [true|false]
/mcRegions/setEnergyTolerance value
</code></pre><p>It is also possible to dump the regions properties for a specified volume or to activate printing properties of all regions:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/mcRegions/dump volumeName
</span></span><span style="display:flex;"><span>/mcRegions/print true|false
</span></span></code></pre></div><p>How to apply Geant4 commands in a Root user session is explained at the section on <a href="/user-guide/geant4_vmc/switching-user-interfaces">Switching User Interfaces</a>.</p>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/user-guide/geant4_vmc/stacking-of-particles/" title="Stacking of Particles"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/user-guide/geant4_vmc/user-geant4-classes/" title="User Geant4 Classes" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1738946947"></script>
    <script src="/js/perfect-scrollbar.min.js?1738946947"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1738946947"></script>
    <script src="/js/jquery.sticky.js?1738946947"></script>
    <script src="/js/featherlight.min.js?1738946947"></script>
    <script src="/js/highlight.pack.js?1738946947"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1738946947"></script>
    <script src="/js/learn.js?1738946947"></script>
    <script src="/js/hugo-learn.js?1738946947"></script>
    
        
            <script src="/mermaid/mermaid.js?1738946947"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

